<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gr√°fico Robot de Trading - OMPULSE</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <style>
    body {
      background-color: #000;
      color: #fff;
      font-family: 'Inter', sans-serif;
      margin: 0;
      padding: 2rem;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    h1 {
      font-size: 2rem;
      background: linear-gradient(to right, #FFD700, #FFA500);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 2rem;
    }
    #graficoRobot {
      width: 100%;
      max-width: 800px;
      height: 400px;
      background-color: #111;
      border-radius: 1rem;
      box-shadow: 0 0 20px rgba(255,0,0,0.5);
      padding: 1rem;
    }
  </style>
</head>
<body>
  <h1>Resultados diarios del robot de trading</h1>
  <div id="graficoRobot"></div>

  <script>
    google.charts.load('current', {'packages':['corechart']});
    google.charts.setOnLoadCallback(drawChart);

    function drawChart() {
      var queryString = encodeURIComponent('SELECT A, B');
      var dataSourceUrl = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQis1cGNIm9CjUFMGTk51MknoBOTbLGTBnGTuSXKyE5gKaRSFIFnukt835fKLAjsCvnwb2g9J3pDf8f/pub?gid=0&single=true&output=csv';
      
      fetch(dataSourceUrl)
        .then(response => response.text())
        .then(csvText => {
          const rows = csvText.split('\n').slice(1).map(r => r.split(',').map((v,i) => i===0 ? v : parseFloat(v)));
          const data = new google.visualization.DataTable();
          data.addColumn('string', 'Fecha');
          data.addColumn('number', 'Resultado');
          data.addRows(rows);

          var options = {
            title: 'Resultados diarios del robot de trading',
            curveType: 'function',
            legend: { position: 'bottom', textStyle: {color:'#FFD700', fontSize:14} },
            height: 400,
            backgroundColor: '#111',
            colors: ['#FFD700'],
            hAxis: { textStyle: {color: '#FFD700'}, gridlines: {color:'#333'} },
            vAxis: { textStyle: {color: '#FFD700'}, gridlines: {color:'#333'} },
            chartArea: {width:'85%', height:'70%'}
          };

          var chart = new google.visualization.LineChart(document.getElementById('graficoRobot'));
          chart.draw(data, options);
        });
    }
  </script>
</body>
</html>
